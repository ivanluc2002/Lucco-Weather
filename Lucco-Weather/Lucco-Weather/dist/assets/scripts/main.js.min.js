"use strict";var src="sweetalert2.all.min.js",weatherForm=document.getElementById("weatherForm"),input=document.querySelector(".header-section input"),cities=document.querySelector(".ajax-section .card-wrapper"),message=document.querySelector(".msg"),apiKey="4d8fb5b93d4af21d66a2948710284366",apiKeyPhoto="hzKA5OLUJFsBaIkEvuPJ2ykWOuaVotTy-3VJzs04l0s";function rimuovi(e){e.parentNode.parentNode.parentNode.parentNode.remove()}weatherForm.addEventListener("submit",function(e){e.preventDefault();var t=input.value,e=cities.querySelectorAll(".ajax-section .card"),e=Array.from(e);if(0<e.length&&0<e.filter(function(e){return(t.includes(",")?2<t.split(",")[1].length?(t=t.split(",")[0],e.querySelector(".card__name span").textContent.toLowerCase()):e.querySelector(".card__name").dataset.name.toLowerCase():e.querySelector(".card__name span").textContent.toLowerCase())==t.toLowerCase()}).length)return Swal.fire({icon:"error",title:"Oops...",text:"città già cercata!"}),void weatherForm.reset();e="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&lang=it&appid=").concat(apiKey,"&units=metric");fetch(e).then(function(e){return e.json()}).then(function(e){var t=e.main,a=e.name,n=e.sys,r=e.weather,e=(e.daily,e.id),c=r[0].icon,c="https://s3-us-west-2.amazonaws.com/s.cdpn.io/162656/".concat(c,".svg"),r=r[0].description,i=document.createElement("li"),e=(i.classList.add("card"),i.dataset.identity=e,"\n           <div id='bkg' class='cardBackground'></div>\n    <div id='card1' class='cardInfo'><div class='middle'><div class='text'> <a onclick='rimuovi(this)' href='#' title='rimuovi'>rimuovi</a></div></div>  <h2 class='card__name'>\n  <span>".concat(a,"</span>\n                    <sup>").concat(n.country,'</sup>               </h2>\n                <div class="card__temp">\n                    <span>').concat(Math.round(t.temp),'</span>\n                    <sup>°C</sup>\n                </div>\n                <figure class="card__figure">\n                    <img class="card__icon" src="').concat(c,'" alt="').concat(r,"\">\n                    <figcaption style='font-weight:bold;'>").concat(r,"</figcaption>\n                </figure>\n          </div>  ")),n=(i.innerHTML=e,cities.appendChild(i),"https://api.unsplash.com/search/photos?client_id=".concat(apiKeyPhoto,"&query=").concat(a));console.log(n),fetch(n).then(function(e){return e.json()}).then(function(e){e=e.results[0].urls.raw;i.firstElementChild.style.backgroundImage="url("+e+")"})}).catch(function(){Swal.fire({icon:"error",title:"Oops...",text:"città inesistente!"})}),weatherForm.reset()});var a=$(".el");console.log(a);